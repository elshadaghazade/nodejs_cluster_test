(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,t,n){e.exports=n(46)},27:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(17),l=n.n(r),c=(n(27),n(18)),i=n(19),u=n(20),s=n(21),d=n(6),m=n(48),h=n(49),p=n(50),E=n(51),f=n(52),w=n(54),v=n(53),k=n(7),y=n.n(k),C=(n(45),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={procList:[]},e}return Object(i.a)(n,[{key:"loadNodes",value:function(){var e=this;y.a.post(d.api_url,{action:"proc_list"},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.setState({procList:t.data})})).catch((function(e){return console.log("ERROR",e)}))}},{key:"componentDidMount",value:function(){this.loadNodes()}},{key:"reloadCB",value:function(){this.loadNodes()}},{key:"killProcCB",value:function(e){var t=this;if(!window.confirm("Are you sure to kill the node?"))return!1;y.a.post(d.api_url,{action:"kill",pid:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.loadNodes()})).catch((function(e){return console.log("ERROR",e)}))}},{key:"setAsMaster",value:function(e){var t=this;y.a.post(d.api_url,{action:"set_master",pid:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.loadNodes()})).catch((function(e){return console.log("ERROR",e)}))}},{key:"addNewNode",value:function(){var e=this;y.a.post(d.api_url,{action:"add_new_node"},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.loadNodes()})).catch((function(e){return console.log("ERROR",e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(m.a,null,o.a.createElement(h.a,null,o.a.createElement("h1",null,"NODE.JS CLUSTERDS"),o.a.createElement("p",null,"You can add new node or kill existings. Also you can change master node manually.")),o.a.createElement(p.a,null,o.a.createElement(E.a,{xs:12},o.a.createElement(f.a,null,o.a.createElement(w.a,{variant:"primary",onClick:this.reloadCB.bind(this)},"RELOAD"),o.a.createElement(w.a,{variant:"success",onClick:this.addNewNode.bind(this)},"ADD NEW NODE")))),o.a.createElement(p.a,null,o.a.createElement(E.a,{xs:12},o.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{width:40}},"#"),o.a.createElement("th",null,"PID"),o.a.createElement("th",null,"TYPE"),o.a.createElement("th",null,"ACTION"))),o.a.createElement("tbody",null,this.state.procList.filter((function(e){return!e.isDead})).map((function(t,n){return o.a.createElement("tr",{key:"table-proc-td-".concat(n)},o.a.createElement("td",null,n),o.a.createElement("td",null,t.pid),o.a.createElement("td",null,t.isMaster?"Master":"Worker"),o.a.createElement("td",{style:{width:250}},o.a.createElement(f.a,null,o.a.createElement(w.a,{variant:"danger",onClick:function(){return e.killProcCB(t.pid)}},"KILL"),o.a.createElement(w.a,{variant:"warning",onClick:function(){return e.setAsMaster(t.pid)}},"SET AS MASTER"))))})))))))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e){e.exports=JSON.parse('{"api_url":"/api/"}')}},[[22,1,2]]]);
//# sourceMappingURL=main.bdae4dbc.chunk.js.map